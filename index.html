<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéØ Simulador de Summons</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(to right, #1c1c1c, #2a2a2a);
        color: white;
        text-align: center;
        padding: 20px;
    }
    h1 {
        color: gold;
        margin-bottom: 10px;
        text-shadow: 0 0 10px gold;
    }
    h3 {
        margin-bottom: 10px;
    }
    .btn {
        padding: 12px 25px;
        margin: 5px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 10px;
        transition: 0.3s;
        font-weight: bold;
    }
    .bannerX {
        background: linear-gradient(to right, crimson, darkred);
        color: white;
    }
    .bannerY {
        background: linear-gradient(to right, royalblue, navy);
        color: white;
    }
    .start {
        background: linear-gradient(to right, limegreen, green);
        color: black;
    }
    .reset {
        background: linear-gradient(to right, orange, darkorange);
        color: black;
    }
    .continue {
        background: linear-gradient(to right, purple, darkviolet);
        color: white;
    }
    .btn:hover {
        transform: scale(1.08);
        filter: brightness(1.1);
    }
    input {
        padding: 8px;
        margin: 5px;
        font-size: 16px;
        border-radius: 5px;
        border: none;
        text-align: center;
        outline: none;
    }
    #bannerSelecionado {
        font-weight: bold;
        font-size: 18px;
        color: gold;
        margin-top: 10px;
    }
    #resultado {
        margin-top: 20px;
        text-align: center;
    }
    .card {
        display: inline-block;
        margin: 8px;
        padding: 10px;
        border-radius: 12px;
        background-color: #2a2a2a;
        width: 140px;
        text-align: center;
        box-shadow: 0 0 10px rgba(255,255,255,0.1);
        transition: 0.3s;
    }
    .card:hover {
        transform: scale(1.05);
    }
    .card img {
        width: 100px;
        border-radius: 8px;
    }
    .Unbound { border: 3px solid gold; animation: pulse 1s infinite; }
    .Shiny { border: 3px solid cyan; animation: shinyGlow 1s infinite; }
    .five { border: 3px solid orange; }
    .four { border: 3px solid violet; }
    .three { border: 3px solid gray; }
    @keyframes pulse {
        0% { box-shadow: 0 0 10px gold; }
        50% { box-shadow: 0 0 30px gold; }
        100% { box-shadow: 0 0 10px gold; }
    }
    @keyframes shinyGlow {
        0% { box-shadow: 0 0 10px cyan; }
        50% { box-shadow: 0 0 30px cyan; }
        100% { box-shadow: 0 0 10px cyan; }
    }
    #animacao {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 9999;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        color: white;
        font-size: 24px;
    }
    .spin {
        width: 120px;
        height: 120px;
        border: 10px solid rgba(255,255,255,0.2);
        border-top: 10px solid gold;
        border-radius: 50%;
        animation: girar 1s linear infinite;
        margin-bottom: 15px;
    }
    @keyframes girar {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
</head>
<body>

<h1>üéØ Simulador de Summons</h1>

<h3>Escolha o Banner:</h3>
<button class="btn bannerX" onclick="escolherBanner('X')">Banner X (Kokushibo)</button>
<button class="btn bannerY" onclick="escolherBanner('Y')">Banner Y (Chrollo)</button>

<p id="bannerSelecionado">üéØ Nenhum banner selecionado</p>

<p>Gemas: <input type="number" id="gemas" value="1000"></p>
<p><strong>üíé Gemas Gastas:</strong> <span id="contadorGemas">0</span></p>

<button class="btn start" onclick="iniciarSimulacao()">üé≤ Rodar Simula√ß√£o</button>
<button class="btn continue" onclick="continuarSimulacao()">‚è© Continuar Girando</button>
<button class="btn reset" onclick="resetar()">‚ôª Resetar</button>

<div id="resultado"></div>

<div id="animacao">
    <div class="spin"></div>
    <p>Abrindo...</p>
</div>

<script>
let bannerEscolhido = null;
let inventario = [];
let contagem = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
let gemasGastas = 0;
let pityContador = 0;

const raridades = {
    "3‚òÖ": 82.99,
    "4‚òÖ": 16.0,
    "5‚òÖ": 1.0,
    "Unbound": 0.01
};

const valorRaridade = {
    "Shiny Unbound": 6,
    "Unbound": 5,
    "Shiny": 4,
    "5‚òÖ": 3,
    "4‚òÖ": 2,
    "3‚òÖ": 1
};

const imagens = {
    "3‚òÖ": "https://i.imgur.com/YVZlVtQ.png",
    "4‚òÖ": "https://i.imgur.com/V8E1OQF.png",
    "5‚òÖ": "https://i.imgur.com/5bRFl8n.png",
    "Unbound-Kokushibo": "https://i.imgur.com/J5ZrDEn.png",
    "Unbound-Chrollo": "https://i.imgur.com/g5twbAv.png"
};

function escolherBanner(banner) {
    bannerEscolhido = banner;
    document.getElementById("bannerSelecionado").innerText = "üéØ Banner escolhido: " + banner;
}

function summon(unboundNome) {
    pityContador++;

    if (pityContador >= 100) {
        pityContador = 0;
        return { nome: `5‚òÖ`, raridade: "5‚òÖ" };
    }

    let roll = Math.random() * 100;
    let acumulado = 0;
    let raridadeEscolhida = "3‚òÖ";

    for (let raridade in raridades) {
        acumulado += raridades[raridade];
        if (roll <= acumulado) {
            raridadeEscolhida = raridade;
            break;
        }
    }

    if (raridadeEscolhida === "5‚òÖ") pityContador = 0;

    let shinyChance = Math.floor(Math.random() * 1000) === 0;
    if (shinyChance) {
        if (raridadeEscolhida === "Unbound") {
            return { nome: `Shiny Unbound - ${unboundNome}`, raridade: "Shiny Unbound" };
        }
        return { nome: `Shiny ${raridadeEscolhida}`, raridade: "Shiny" };
    }

    if (raridadeEscolhida === "Unbound") {
        return { nome: `Unbound - ${unboundNome}`, raridade: "Unbound" };
    }
    if (raridadeEscolhida === "5‚òÖ") {
        return { nome: `5‚òÖ`, raridade: "5‚òÖ" };
    }
    return { nome: `${raridadeEscolhida}`, raridade: raridadeEscolhida };
}

function iniciarSimulacao() {
    if (!bannerEscolhido) {
        alert("Escolha um banner primeiro!");
        return;
    }
    inventario = [];
    contagem = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
    gemasGastas = 0;

    let gemas = parseInt(document.getElementById("gemas").value);
    gemasGastas += gemas;
    atualizarContador();

    document.getElementById("animacao").style.display = "flex";
    setTimeout(() => simular(gemas), 2000);
}

function continuarSimulacao() {
    if (!bannerEscolhido) {
        alert("Escolha um banner primeiro!");
        return;
    }
    let gemas = parseInt(document.getElementById("gemas").value);
    gemasGastas += gemas;
    atualizarContador();

    document.getElementById("animacao").style.display = "flex";
    setTimeout(() => simular(gemas), 2000);
}

function simular(totalGemas) {
    let unboundNome = (bannerEscolhido === "X") ? "Kokushibo" : "Chrollo";
    const CUSTO_SINGLE = 50;
    const CUSTO_MULTI = 450;

    while (totalGemas >= CUSTO_MULTI) {
        totalGemas -= CUSTO_MULTI;
        for (let i = 0; i < 10; i++) {
            let item = summon(unboundNome);
            inventario.push(item);
            contagem[item.raridade]++;
        }
    }
    while (totalGemas >= CUSTO_SINGLE) {
        totalGemas -= CUSTO_SINGLE;
        let item = summon(unboundNome);
        inventario.push(item);
        contagem[item.raridade]++;
    }

    mostrarResultados();
    document.getElementById("animacao").style.display = "none";
}

function mostrarResultados() {
    let melhores = [...inventario].sort((a, b) => valorRaridade[b.raridade] - valorRaridade[a.raridade]);
    let top10 = melhores.slice(0, 10);

    let resultadoHTML = "<h3>Resultados</h3>";
    for (let rar in contagem) {
        resultadoHTML += `<p>${rar}: ${contagem[rar]}</p>`;
    }

    resultadoHTML += "<h4>Top 10:</h4>";
    top10.forEach(item => {
        let classe = "";
        if (item.raridade === "Shiny Unbound") classe = "Shiny";
        else if (item.raridade === "Unbound") classe = "Unbound";
        else if (item.raridade === "Shiny") classe = "Shiny";
        else if (item.raridade === "5‚òÖ") classe = "five";
        else if (item.raridade === "4‚òÖ") classe = "four";
        else classe = "three";

        let imgSrc;
        if (item.raridade.includes("Unbound")) imgSrc = imagens[`Unbound-${bannerEscolhido === "X" ? "Kokushibo" : "Chrollo"}`];
        else imgSrc = imagens[item.raridade.replace("Shiny ", "")];

        resultadoHTML += `<div class="card ${classe}">
                            <img src="${imgSrc}">
                            <p>${item.nome}</p>
                          </div>`;
    });

    document.getElementById("resultado").innerHTML = resultadoHTML;
}

function atualizarContador() {
    document.getElementById("contadorGemas").textContent = gemasGastas;
}

function resetar() {
    inventario = [];
    contagem = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
    gemasGastas = 0;
    pityContador = 0;
    document.getElementById("resultado").innerHTML = "";
    document.getElementById("contadorGemas").textContent = "0";
    document.getElementById("gemas").value = "1000";
    document.getElementById("bannerSelecionado").innerText = "üéØ Nenhum banner selecionado";
    bannerEscolhido = null;
}
</script>

</body>
</html>
