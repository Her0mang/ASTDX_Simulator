<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéØ Summon Simulator</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(to right, #1c1c1c, #2a2a2a);
        color: white;
        text-align: center;
        padding: 20px;
    }
    h1 {
        color: gold;
        margin-bottom: 10px;
        text-shadow: 0 0 10px gold;
    }
    h3 { margin-bottom: 10px; }
    .btn {
        padding: 12px 25px;
        margin: 5px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 10px;
        transition: 0.3s;
        font-weight: bold;
    }
    .bannerX { background: linear-gradient(to right, crimson, darkred); color: white; }
    .bannerY { background: linear-gradient(to right, royalblue, navy); color: white; }
    .start { background: linear-gradient(to right, limegreen, green); color: black; }
    .reset { background: linear-gradient(to right, orange, darkorange); color: black; }
    .continue { background: linear-gradient(to right, purple, darkviolet); color: white; }
    .untilUnbound { background: linear-gradient(to right, gold, goldenrod); color: black; }
    .btn:hover { transform: scale(1.08); filter: brightness(1.1); }
    input {
        padding: 8px;
        margin: 5px;
        font-size: 16px;
        border-radius: 5px;
        border: none;
        text-align: center;
        outline: none;
    }
    #bannerSelecionado { font-weight: bold; font-size: 18px; color: gold; margin-top: 10px; }
    #resultado { margin-top: 20px; text-align: center; }
    .card {
        display: inline-block;
        margin: 8px;
        padding: 10px;
        border-radius: 12px;
        background-color: #2a2a2a;
        width: 140px;
        text-align: center;
        box-shadow: 0 0 10px rgba(255,255,255,0.1);
        transition: 0.3s;
    }
    .card:hover { transform: scale(1.05); }
    .card img { width: 100px; border-radius: 8px; }
    .Unbound { border: 3px solid gold; animation: pulse 1s infinite; }
    .Shiny { border: 3px solid cyan; animation: shinyGlow 1s infinite; }
    .five { border: 3px solid orange; }
    .four { border: 3px solid violet; }
    .three { border: 3px solid gray; }
    @keyframes pulse {
        0% { box-shadow: 0 0 10px gold; }
        50% { box-shadow: 0 0 30px gold; }
        100% { box-shadow: 0 0 10px gold; }
    }
    @keyframes shinyGlow {
        0% { box-shadow: 0 0 10px cyan; }
        50% { box-shadow: 0 0 30px cyan; }
        100% { box-shadow: 0 0 10px cyan; }
    }
    #animacao {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        z-index: 9999;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        color: white;
        font-size: 24px;
    }
    .spin {
        width: 120px;
        height: 120px;
        border: 10px solid rgba(255,255,255,0.2);
        border-top: 10px solid gold;
        border-radius: 50%;
        animation: girar 1s linear infinite;
        margin-bottom: 15px;
    }
    @keyframes girar {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
</head>
<body>

<h1>üéØ Summon Simulator</h1>

<h3>Choose the Banner:</h3>
<button class="btn bannerX" onclick="chooseBanner('X')">Banner X (Kokushibo)</button>
<button class="btn bannerY" onclick="chooseBanner('Y')">Banner Y (Chrollo)</button>

<p id="bannerSelecionado">üéØ No banner selected</p>

<p>Gems: <input type="number" id="gemas" value="1000"></p>
<p><strong>üíé Total Gems Spent:</strong> <span id="contadorGemas">0</span></p>
<p><strong>‚≠ê Pity Counter:</strong> <span id="contadorPity">0</span> / 100</p>

<button class="btn start" onclick="startSimulation()">üé≤ Run Simulation</button>
<button id="continueBtn" class="btn continue" onclick="continueSimulation()" style="display:none;">‚è© Continue Summoning</button>
<button class="btn untilUnbound" onclick="untilUnbound()">üéØ Summon until Unbound</button>
<button class="btn reset" onclick="resetGame()">‚ôª Reset</button>

<div id="resultado"></div>

<div id="animacao">
    <div class="spin"></div>
    <p>Opening...</p>
</div>

<script>
let selectedBanner = null;
let inventory = [];
let counts = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
let gemsSpent = 0;
let pityCounter = 0;

const rarities = {
    "3‚òÖ": 82.99,
    "4‚òÖ": 16.0,
    "5‚òÖ": 1.0,
    "Unbound": 0.01
};

const rarityValue = {
    "Shiny Unbound": 6,
    "Unbound": 5,
    "Shiny": 4,
    "5‚òÖ": 3,
    "4‚òÖ": 2,
    "3‚òÖ": 1
};

const images = {
    "3‚òÖ": "https://i.imgur.com/YVZlVtQ.png",
    "4‚òÖ": "https://i.imgur.com/V8E1OQF.png",
    "5‚òÖ": "https://i.imgur.com/5bRFl8n.png",
    "Unbound-Kokushibo": "https://i.imgur.com/J5ZrDEn.png",
    "Unbound-Chrollo": "https://i.imgur.com/g5twbAv.png"
};

function chooseBanner(banner) {
    selectedBanner = banner;
    document.getElementById("bannerSelecionado").innerText = "üéØ Selected Banner: " + banner;
}

function summon(unboundName) {
    pityCounter++;
    if (pityCounter >= 100) {
        pityCounter = 0;
        updatePityCounter();
        return { name: `5‚òÖ`, rarity: "5‚òÖ" };
    }
    let roll = Math.random() * 100;
    let sum = 0;
    let chosenRarity = "3‚òÖ";
    for (let rarity in rarities) {
        sum += rarities[rarity];
        if (roll <= sum) {
            chosenRarity = rarity;
            break;
        }
    }
    if (chosenRarity === "5‚òÖ") pityCounter = 0;
    updatePityCounter();
    let shinyChance = Math.floor(Math.random() * 1000) === 0;
    if (shinyChance) {
        if (chosenRarity === "Unbound") {
            return { name: `Shiny Unbound - ${unboundName}`, rarity: "Shiny Unbound" };
        }
        return { name: `Shiny ${chosenRarity}`, rarity: "Shiny" };
    }
    if (chosenRarity === "Unbound") return { name: `Unbound - ${unboundName}`, rarity: "Unbound" };
    if (chosenRarity === "5‚òÖ") return { name: `5‚òÖ`, rarity: "5‚òÖ" };
    return { name: `${chosenRarity}`, rarity: chosenRarity };
}

function startSimulation() {
    if (!selectedBanner) return alert("Please choose a banner first!");
    inventory = [];
    counts = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
    gemsSpent = 0;
    pityCounter = 0;
    updatePityCounter();
    let gems = parseInt(document.getElementById("gemas").value);
    gemsSpent += gems;
    updateCounter();
    document.getElementById("animacao").style.display = "flex";
    setTimeout(() => {
        simulate(gems);
        document.getElementById("continueBtn").style.display = "inline-block";
    }, 2000);
}

function continueSimulation() {
    let gems = parseInt(document.getElementById("gemas").value);
    gemsSpent += gems;
    updateCounter();
    document.getElementById("animacao").style.display = "flex";
    setTimeout(() => simulate(gems), 2000);
}

function untilUnbound() {
    if (!selectedBanner) return alert("Please choose a banner first!");
    let gems = 0;
    while (true) {
        let result = summon(selectedBanner === "X" ? "Kokushibo" : "Chrollo");
        gems += 50;
        inventory.push(result);
        counts[result.rarity]++;
        if (result.rarity.includes("Unbound")) break;
    }
    gemsSpent += gems;
    updateCounter();
    showResults();
    document.getElementById("continueBtn").style.display = "inline-block";
}

function simulate(totalGems) {
    let unboundName = (selectedBanner === "X") ? "Kokushibo" : "Chrollo";
    const SINGLE_COST = 50, MULTI_COST = 450;
    while (totalGems >= MULTI_COST) {
        totalGems -= MULTI_COST;
        for (let i = 0; i < 10; i++) {
            let item = summon(unboundName);
            inventory.push(item);
            counts[item.rarity]++;
        }
    }
    while (totalGems >= SINGLE_COST) {
        totalGems -= SINGLE_COST;
        let item = summon(unboundName);
        inventory.push(item);
        counts[item.rarity]++;
    }
    showResults();
    document.getElementById("animacao").style.display = "none";
}

function showResults() {
    let best = [...inventory].sort((a, b) => rarityValue[b.rarity] - rarityValue[a.rarity]);
    let top10 = best.slice(0, 10);
    let resultHTML = "<h3>Results</h3>";
    for (let rar in counts) resultHTML += `<p>${rar}: ${counts[rar]}</p>`;
    resultHTML += "<h4>Top 10:</h4>";
    top10.forEach(item => {
        let cls = item.rarity.includes("Unbound") ? "Unbound" : 
                  item.rarity === "Shiny" ? "Shiny" :
                  item.rarity === "5‚òÖ" ? "five" :
                  item.rarity === "4‚òÖ" ? "four" : "three";
        let imgSrc = item.rarity.includes("Unbound") ? images[`Unbound-${selectedBanner === "X" ? "Kokushibo" : "Chrollo"}`] : images[item.rarity.replace("Shiny ", "")];
        resultHTML += `<div class="card ${cls}"><img src="${imgSrc}"><p>${item.name}</p></div>`;
    });
    document.getElementById("resultado").innerHTML = resultHTML;
}

function updateCounter() {
    document.getElementById("contadorGemas").textContent = gemsSpent;
}

function updatePityCounter() {
    document.getElementById("contadorPity").textContent = pityCounter;
}

function resetGame() {
    inventory = [];
    counts = { "3‚òÖ": 0, "4‚òÖ": 0, "5‚òÖ": 0, "Unbound": 0, "Shiny": 0, "Shiny Unbound": 0 };
    gemsSpent = 0;
    pityCounter = 0;
    updatePityCounter();
    document.getElementById("resultado").innerHTML = "";
    document.getElementById("contadorGemas").textContent = "0";
    document.getElementById("gemas").value = "1000";
    document.getElementById("bannerSelecionado").innerText = "üéØ No banner selected";
    document.getElementById("continueBtn").style.display = "none";
    selectedBanner = null;
}
</script>

</body>
</html>
